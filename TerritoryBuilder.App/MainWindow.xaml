<Window x:Class="TerritoryBuilder.App.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="TerritoryBuilder"
        Height="900"
        Width="1320"
        WindowState="Maximized"
        Icon="{StaticResource AppIconImage}">
    <Window.Resources>
        <BooleanToVisibilityConverter x:Key="BoolToVisibilityConverter" />
    </Window.Resources>

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="14" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <Border Grid.Row="0"
                Background="{StaticResource HeroGradientBrush}"
                CornerRadius="14"
                Padding="22"
                BorderBrush="#1F6FEB"
                BorderThickness="1">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="6" />
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>

                <StackPanel Orientation="Horizontal">
                    <Viewbox Width="48" Height="48" Stretch="Uniform" Margin="0,0,14,0">
                        <Grid>
                            <Ellipse Fill="#1F6FEB" Width="42" Height="42" />
                            <Path Fill="#FFFFFF"
                                  Data="M8,13 L20,8 L32,13 L20,18 Z M11,21 L20,17 L29,21 L20,25 Z M14,28 L20,25 L26,28 L20,32 Z" />
                        </Grid>
                    </Viewbox>
                    <StackPanel VerticalAlignment="Center">
                        <TextBlock Text="TerritoryBuilder"
                                   FontSize="30"
                                   FontWeight="Bold"
                                   Foreground="White"
                                   Margin="0" />
                        <TextBlock Text="Build balanced, data-rich territory plans faster with 123NET workflow automation."
                                   FontSize="14"
                                   Foreground="{StaticResource TextOnDarkBrush}"
                                   Margin="0,3,0,0" />
                    </StackPanel>
                </StackPanel>

                <Button Grid.Column="1"
                        Content="Run Full Assignment"
                        Command="{Binding RunFullWorkflowCommand}"
                        Style="{StaticResource SuccessButtonStyle}"
                        MinWidth="190"
                        VerticalAlignment="Center" />

                <Grid Grid.Row="1" Grid.ColumnSpan="2" Margin="0,16,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="2*" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <Border Grid.Column="0" Background="#1F6FEB" CornerRadius="3" Height="6" Margin="0,0,4,0" />
                    <Border Grid.Column="1" Background="#22C55E" CornerRadius="3" Height="6" Margin="4,0" />
                    <Border Grid.Column="2" Background="#EF4444" CornerRadius="3" Height="6" Margin="4,0,0,0" />
                </Grid>
            </Grid>
        </Border>

        <Border Grid.Row="2"
                Background="{StaticResource SurfaceBrush}"
                CornerRadius="12"
                Padding="14"
                BorderBrush="{StaticResource BorderBrush}"
                BorderThickness="1">
            <TabControl>
                <TabItem Header="Data"><ContentControl Content="{Binding DataTab}" /></TabItem>
                <TabItem Header="Filters" Visibility="{Binding IsAdvancedMode, Converter={StaticResource BoolToVisibilityConverter}}"><ContentControl Content="{Binding FiltersTab}" /></TabItem>
                <TabItem Header="Weighted Assignments" Visibility="{Binding IsAdvancedMode, Converter={StaticResource BoolToVisibilityConverter}}"><ContentControl Content="{Binding WeightedAssignmentsTab}" /></TabItem>
                <TabItem Header="Results"><ContentControl Content="{Binding ResultsTab}" /></TabItem>
                <TabItem Header="Export" Visibility="{Binding IsAdvancedMode, Converter={StaticResource BoolToVisibilityConverter}}"><ContentControl Content="{Binding ExportTab}" /></TabItem>
            </TabControl>
        </Border>
    </Grid>
</Window>
